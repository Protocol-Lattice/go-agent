<!doctype html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lattice-Agent ‚Äî Go Agents with Graph + Multi-Vector Memory</title>
  <meta name="description" content="Lattice-Agent to framework w Go do budowy agent√≥w: czyste adaptery LLM, narzƒôdzia UTCP, pamiƒôƒá RAG i orkiestracja multi-agentowa." />
  <meta name="theme-color" content="#0a0a0a" media="(prefers-color-scheme: dark)">
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { theme: { extend: {} }, darkMode: ['class', '[data-theme="dark"]'] }
  </script>
  <style>
    pre code{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;}
    .fade-in{ animation: fade .5s ease-out both } @keyframes fade{from{opacity:0; transform:translateY(4px)}to{opacity:1; transform:none}}
  </style>
</head>
<body class="min-h-screen bg-white text-zinc-900 dark:bg-zinc-950 dark:text-zinc-100">
  <!-- Navbar -->
  <header class="sticky top-0 z-40 backdrop-blur bg-white/70 dark:bg-zinc-950/70 border-b border-zinc-200 dark:border-zinc-800">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 py-3 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <svg class="w-7 h-7" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-label="Lattice-Agent logo">
          <g fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="10" cy="10" r="4" />
            <circle cx="32" cy="10" r="4" />
            <circle cx="54" cy="10" r="4" />
            <circle cx="10" cy="32" r="4" />
            <circle cx="32" cy="32" r="4" />
            <circle cx="54" cy="32" r="4" />
            <circle cx="10" cy="54" r="4" />
            <circle cx="32" cy="54" r="4" />
            <circle cx="54" cy="54" r="4" />
            <path d="M10 10L32 32L54 10M10 32L32 10L54 32M10 54L32 32L54 54" />
          </g>
        </svg>
        <span class="font-semibold tracking-tight" data-i18n="brand">Lattice-Agent</span>
      </div>
      <nav class="hidden md:flex items-center gap-6 text-sm">
        <a class="hover:opacity-80" href="#features" data-i18n="nav.features">Funkcje</a>
        <a class="hover:opacity-80" href="#quickstart" data-i18n="nav.quickstart">QuickStart</a>
        <a class="hover:opacity-80" href="#agent" data-i18n="nav.agent">Agent</a>
        <a class="hover:opacity-80" href="#faq" data-i18n="nav.faq">FAQ</a>
      </nav>
      <div class="flex items-center gap-2">
        <button id="themeToggle" class="inline-flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-900" aria-label="Toggle theme">
          <span id="themeIcon" aria-hidden>üåô</span><span class="hidden sm:inline" data-i18n="nav.theme">Motyw</span>
        </button>
        <button id="langToggle" class="inline-flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-900" aria-label="Switch language">
          <span class="hidden sm:inline" id="langLabel">PL</span> üåê
        </button>
        <a class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-zinc-900 text-white hover:opacity-90 dark:bg-white dark:text-zinc-900" href="https://github.com/Raezil/lattice-agent" target="_blank" rel="noreferrer" data-i18n="nav.github">GitHub</a>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="mx-auto max-w-7xl px-4 sm:px-6 py-16 sm:py-20">
    <div class="grid md:grid-cols-2 gap-10 items-center">
      <div class="fade-in">
        <h1 class="text-4xl md:text-6xl font-black tracking-tight">
          <span data-i18n="hero.h1a">Buduj agent√≥w w Go z</span>
          <span class="block bg-gradient-to-r from-blue-500 via-indigo-500 to-fuchsia-500 bg-clip-text text-transparent" data-i18n="hero.h1b">pamiƒôciƒÖ grafowƒÖ i multi-wektorowƒÖ</span>
        </h1>
        <p class="mt-6 text-lg text-zinc-600 dark:text-zinc-300 max-w-prose" data-i18n="hero.lead">
          Czyste adaptery LLM, natywne narzƒôdzia UTCP, pamiƒôƒá RAG i orkiestracja multi-agentowa. Skup siƒô na logice domenowej, a my ogarniemy ‚Äûplumbing‚Äù.
        </p>
        <div class="mt-8 flex flex-wrap items-center justify-center md:justify-start gap-3">
          <a class="px-4 py-2 rounded-lg bg-zinc-900 text-white hover:opacity-90 dark:bg-white dark:text-zinc-900" href="#quickstart" data-i18n="hero.cta1">QuickStart</a>
          <a class="px-4 py-2 rounded-lg border border-zinc-300 hover:bg-zinc-50 dark:border-zinc-700 dark:hover:bg-zinc-900" href="#faq" data-i18n="hero.cta2">FAQ</a>
        </div>
        <div class="mt-6 text-xs text-zinc-500 dark:text-zinc-400" data-i18n="hero.meta">Apache-2.0 ‚Ä¢ Go 1.22+ ‚Ä¢ UTCP-ready</div>
      </div>
      <div class="relative fade-in">
        <div class="border border-zinc-200 dark:border-zinc-800 shadow-xl rounded-2xl">
          <div class="px-6 pt-5 pb-0 text-sm font-semibold" data-i18n="hero.demo">demo CLI</div>
          <div class="p-6">
            <div class="relative">
<pre class="rounded-2xl bg-zinc-900 text-zinc-100 p-6 overflow-x-auto text-sm shadow-xl border border-zinc-800"><code id="demoCode">lattice&gt; /tool echo "hello"
lattice&gt; /calc 2*(3+4)
lattice&gt; summarize recent notes in team:core</code></pre>
              <button class="copy-btn absolute top-3 right-3 px-3 py-1.5 text-sm rounded-lg bg-zinc-700 text-white" data-target="demoCode" aria-label="Copy" data-i18n="btn.copy">Kopiuj</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Features -->
  <section id="features" class="mx-auto max-w-7xl px-4 sm:px-6 py-8">
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
      <div class="border border-zinc-200 dark:border-zinc-800 rounded-2xl p-5 shadow-sm">
        <h3 class="font-semibold mb-2" data-i18n="feat.1.title">Pamiƒôƒá grafowa</h3>
        <p class="text-sm text-zinc-600 dark:text-zinc-300" data-i18n="feat.1.desc">SƒÖsiedztwo, wa≈ºno≈õƒá, zanikanie ‚Äî kontekst trafia w sedno.</p>
      </div>
      <div class="border border-zinc-200 dark:border-zinc-800 rounded-2xl p-5 shadow-sm">
        <h3 class="font-semibold mb-2" data-i18n="feat.2.title">Multi-wektor (macierz)</h3>
        <p class="text-sm text-zinc-600 dark:text-zinc-300" data-i18n="feat.2.desc">Wiele wektor√≥w na rekord + fuzja RRF/weighted = lepszy recall.</p>
      </div>
      <div class="border border-zinc-200 dark:border-zinc-800 rounded-2xl p-5 shadow-sm">
        <h3 class="font-semibold mb-2" data-i18n="feat.3.title">Narzƒôdzia UTCP</h3>
        <p class="text-sm text-zinc-600 dark:text-zinc-300" data-i18n="feat.3.desc">Jedno API, wielu dostawc√≥w i tryb√≥w uruchomienia.</p>
      </div>
      <div class="border border-zinc-200 dark:border-zinc-800 rounded-2xl p-5 shadow-sm">
        <h3 class="font-semibold mb-2" data-i18n="feat.4.title">Czyste adaptery LLM</h3>
        <p class="text-sm text-zinc-600 dark:text-zinc-300" data-i18n="feat.4.desc">Gemini, Anthropic, OpenAI, Ollama ‚Äî jeden interfejs.</p>
      </div>
      <div class="border border-zinc-200 dark:border-zinc-800 rounded-2xl p-5 shadow-sm">
        <h3 class="font-semibold mb-2" data-i18n="feat.5.title">Wymienne magazyny</h3>
        <p class="text-sm text-zinc-600 dark:text-zinc-300" data-i18n="feat.5.desc">In-memory na start; produkcja: PostgreSQL+pgvector lub Qdrant.</p>
      </div>
      <div class="border border-zinc-200 dark:border-zinc-800 rounded-2xl p-5 shadow-sm">
        <h3 class="font-semibold mb-2" data-i18n="feat.6.title">Swarm & spaces</h3>
        <p class="text-sm text-zinc-600 dark:text-zinc-300" data-i18n="feat.6.desc">Specjali≈õci wsp√≥≈ÇdzielƒÖcy przestrzenie zespo≈Ç√≥w i sesji.</p>
      </div>
    </div>
  </section>

  <!-- QuickStart -->
  <section id="quickstart" class="mx-auto max-w-5xl px-4 sm:px-6 py-16">
    <div class="text-center max-w-2xl mx-auto">
      <h2 class="text-3xl font-extrabold tracking-tight" data-i18n="qs.title">QuickStart</h2>
      <p class="mt-3 text-zinc-600 dark:text-zinc-300" data-i18n="qs.lead">Szybki start: klon, deps, klucz API, demo.</p>
    </div>
    <div class="mt-8 relative max-w-3xl mx-auto">
<pre class="rounded-2xl bg-zinc-900 text-zinc-100 p-6 overflow-x-auto text-sm shadow-xl border border-zinc-800"><code id="qsCode">git clone https://github.com/Raezil/lattice-agent.git
cd lattice-agent
go mod download

# opcjonalna trwa≈Ço≈õƒá
echo "CREATE EXTENSION IF NOT EXISTS vector;" | psql postgres

# env
echo 'export GEMINI_API_KEY=YOUR_KEY' >> ~/.bashrc
source ~/.bashrc

# demo
go run ./cmd/quickstart</code></pre>
      <button class="copy-btn absolute top-3 right-3 px-3 py-1.5 text-sm rounded-lg bg-zinc-700 text-white" data-target="qsCode" aria-label="Copy" data-i18n="btn.copy">Kopiuj</button>
    </div>
  </section>

  <!-- Agent (below QuickStart & centered) -->
  <section id="agent" class="mx-auto max-w-5xl px-4 sm:px-6 py-12">
    <div class="text-center max-w-2xl mx-auto">
      <h3 class="text-2xl font-bold" data-i18n="agent.title">Agent</h3>
      <p class="mt-2 text-sm text-zinc-600 dark:text-zinc-300" data-i18n="agent.lead">Minimalny przyk≈Çad uruchomienia agenta i wygenerowania odpowiedzi.</p>
    </div>
    <div class="mt-6 relative max-w-3xl mx-auto">
<pre class="rounded-2xl bg-zinc-900 text-zinc-100 p-6 overflow-x-auto text-sm shadow-xl border border-zinc-800"><code id="goCode">package main

import (
  "context"
  "log"

  "github.com/Raezil/lattice-agent/pkg/adk"
  adkmodules "github.com/Raezil/lattice-agent/pkg/adk/modules"
  "github.com/Raezil/lattice-agent/pkg/models"
  "github.com/Raezil/lattice-agent/pkg/tools"
)

func main() {
  ctx := context.Background()

  kit, err := adk.New(ctx,
    adk.WithModules(
      adkmodules.NewModelModule("coordinator", func(_ context.Context) (models.Agent, error) {
        return models.NewGeminiLLM(ctx, "gemini-2.5-pro", "Swarm orchestration:")
      }),
      adkmodules.InMemoryMemoryModule(64),
      adkmodules.NewToolModule("default-tools",
        adkmodules.StaticToolProvider([]tools.Tool{
          &tools.EchoTool{},
          &tools.CalculatorTool{},
        }, nil)),
    ),
  )
  if err != nil { log.Fatal(err) }

  a, err := kit.BuildAgent(ctx)
  if err != nil { log.Fatal(err) }

  resp, err := a.Generate(ctx, "session-1", "Co to jest pgvector? Odpowiedz w 2 linijkach.")
  if err != nil { log.Fatal(err) }
  log.Println(resp)
}</code></pre>
      <button class="copy-btn absolute top-3 right-3 px-3 py-1.5 text-sm rounded-lg bg-zinc-700 text-white" data-target="goCode" aria-label="Copy" data-i18n="btn.copy">Kopiuj</button>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="mx-auto max-w-5xl px-4 sm:px-6 pb-20">
    <div class="text-center max-w-2xl mx-auto">
      <h2 class="text-3xl font-extrabold tracking-tight" data-i18n="faq.title">FAQ</h2>
      <p class="mt-2 text-sm text-zinc-600 dark:text-zinc-300" data-i18n="faq.lead">Najczƒôstsze pytania o Lattice-Agent.</p>
    </div>
    <div class="mt-6 grid md:grid-cols-2 gap-6">
      <details class="group border border-zinc-200 dark:border-zinc-800 rounded-2xl p-5">
        <summary class="cursor-pointer font-semibold list-none flex items-center justify-between">
          <span data-i18n="faq.q1">Jak dzia≈Ça pamiƒôƒá multi-wektorowa?</span>
          <span aria-hidden class="transition-transform group-open:rotate-180">‚ñæ</span>
        </summary>
        <p class="mt-3 text-sm text-zinc-600 dark:text-zinc-300" data-i18n="faq.a1">Ka≈ºdy rekord przechowuje macierz wektor√≥w (np. tytu≈Ç, tre≈õƒá, encje). Wyniki ≈ÇƒÖczone sƒÖ przez fuzjƒô (RRF/weighted), a sƒÖsiedztwo grafu rozszerza kontekst.</p>
      </details>
      <details class="group border border-zinc-200 dark:border-zinc-800 rounded-2xl p-5">
        <summary class="cursor-pointer font-semibold list-none flex items-center justify-between">
          <span data-i18n="faq.q2">Jakie magazyny sƒÖ wspierane?</span>
          <span aria-hidden class="transition-transform group-open:rotate-180">‚ñæ</span>
        </summary>
        <p class="mt-3 text-sm text-zinc-600 dark:text-zinc-300" data-i18n="faq.a2">Dev: in-memory. Prod: PostgreSQL+pgvector lub Qdrant. Adaptery w <code>pkg/memory</code>.</p>
      </details>
      <details class="group border border-zinc-200 dark:border-zinc-800 rounded-2xl p-5">
        <summary class="cursor-pointer font-semibold list-none flex items-center justify-between">
          <span data-i18n="faq.q3">Czy muszƒô u≈ºywaƒá Gemini?</span>
          <span aria-hidden class="transition-transform group-open:rotate-180">‚ñæ</span>
        </summary>
        <p class="mt-3 text-sm text-zinc-600 dark:text-zinc-300" data-i18n="faq.a3">Nie. Interfejs LLM jest plug-and-play (Anthropic, OpenAI, Ollama, w≈Çasne modele).</p>
      </details>
      <details class="group border border-zinc-200 dark:border-zinc-800 rounded-2xl p-5">
        <summary class="cursor-pointer font-semibold list-none flex items-center justify-between">
          <span data-i18n="faq.q4">Jak kontrybuowaƒá?</span>
          <span aria-hidden class="transition-transform group-open:rotate-180">‚ñæ</span>
        </summary>
        <p class="mt-3 text-sm text-zinc-600 dark:text-zinc-300" data-i18n="faq.a4">Ma≈Çe PR-y, testy i dokumentacja. Standard library first, czysty kod, minimalne zale≈ºno≈õci.</p>
      </details>
    </div>
  </section>

  <!-- Footer -->
  <footer class="border-t border-zinc-200 dark:border-zinc-800 py-10">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 flex flex-col md:flex-row items-center justify-between gap-4">
      <div class="flex items-center gap-3 text-sm text-zinc-500 dark:text-zinc-400">
        <svg class="w-5 h-5" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <g fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="10" cy="10" r="4" />
            <circle cx="32" cy="10" r="4" />
            <circle cx="54" cy="10" r="4" />
            <circle cx="10" cy="32" r="4" />
            <circle cx="32" cy="32" r="4" />
            <circle cx="54" cy="32" r="4" />
            <circle cx="10" cy="54" r="4" />
            <circle cx="32" cy="54" r="4" />
            <circle cx="54" cy="54" r="4" />
            <path d="M10 10L32 32L54 10M10 32L32 10L54 32M10 54L32 32L54 54" />
          </g>
        </svg>
        <span data-i18n="footer.brand">Lattice-Agent ‚Ä¢ Apache-2.0</span>
      </div>
      <div class="text-xs text-zinc-500 dark:text-zinc-400">&copy; <span id="year"></span> ‚Ä¢ <span data-i18n="footer.meta">Go ‚Ä¢ UTCP ‚Ä¢ RAG</span></div>
    </div>
  </footer>

  <script>
    // i18n dictionary
    const I18N = {
      pl: {
        brand: "Lattice-Agent",
        "nav.features": "Funkcje",
        "nav.quickstart": "QuickStart",
        "nav.agent": "Agent",
        "nav.faq": "FAQ",
        "nav.theme": "Motyw",
        "nav.github": "GitHub",
        "hero.h1a": "Buduj agent√≥w w Go z",
        "hero.h1b": "pamiƒôciƒÖ grafowƒÖ i multi-wektorowƒÖ",
        "hero.lead": "Czyste adaptery LLM, natywne narzƒôdzia UTCP, pamiƒôƒá RAG i orkiestracja multi-agentowa. Skup siƒô na logice domenowej, a my ogarniemy ‚Äûplumbing‚Äù.",
        "hero.cta1": "QuickStart",
        "hero.cta2": "FAQ",
        "hero.meta": "Apache-2.0 ‚Ä¢ Go 1.22+ ‚Ä¢ UTCP-ready",
        "hero.demo": "demo CLI",
        "feat.1.title": "Pamiƒôƒá grafowa",
        "feat.1.desc": "SƒÖsiedztwo, wa≈ºno≈õƒá, zanikanie ‚Äî kontekst trafia w sedno.",
        "feat.2.title": "Multi-wektor (macierz)",
        "feat.2.desc": "Wiele wektor√≥w na rekord + fuzja RRF/weighted = lepszy recall.",
        "feat.3.title": "Narzƒôdzia UTCP",
        "feat.3.desc": "Jedno API, wielu dostawc√≥w i tryb√≥w uruchomienia.",
        "feat.4.title": "Czyste adaptery LLM",
        "feat.4.desc": "Gemini, Anthropic, OpenAI, Ollama ‚Äî jeden interfejs.",
        "feat.5.title": "Wymienne magazyny",
        "feat.5.desc": "In-memory na start; produkcja: PostgreSQL+pgvector lub Qdrant.",
        "feat.6.title": "Swarm & spaces",
        "feat.6.desc": "Specjali≈õci wsp√≥≈ÇdzielƒÖcy przestrzenie zespo≈Ç√≥w i sesji.",
        "qs.title": "QuickStart",
        "qs.lead": "Szybki start: klon, deps, klucz API, demo.",
        "agent.title": "Agent",
        "agent.lead": "Minimalny przyk≈Çad uruchomienia agenta i wygenerowania odpowiedzi.",
        "faq.title": "FAQ",
        "faq.lead": "Najczƒôstsze pytania o Lattice-Agent.",
        "faq.q1": "Jak dzia≈Ça pamiƒôƒá multi-wektorowa?",
        "faq.a1": "Ka≈ºdy rekord przechowuje macierz wektor√≥w (np. tytu≈Ç, tre≈õƒá, encje). Wyniki ≈ÇƒÖczone sƒÖ przez fuzjƒô (RRF/weighted), a sƒÖsiedztwo grafu rozszerza kontekst.",
        "faq.q2": "Jakie magazyny sƒÖ wspierane?",
        "faq.a2": "Dev: in-memory. Prod: PostgreSQL+pgvector lub Qdrant. Adaptery w <code>pkg/memory</code>.",
        "faq.q3": "Czy muszƒô u≈ºywaƒá Gemini?",
        "faq.a3": "Nie. Interfejs LLM jest plug-and-play (Anthropic, OpenAI, Ollama, w≈Çasne modele).",
        "faq.q4": "Jak kontrybuowaƒá?",
        "faq.a4": "Ma≈Çe PR-y, testy i dokumentacja. Standard library first, czysty kod, minimalne zale≈ºno≈õci.",
        "footer.brand": "Lattice-Agent ‚Ä¢ Apache-2.0",
        "footer.meta": "Go ‚Ä¢ UTCP ‚Ä¢ RAG",
        "btn.copy": "Kopiuj"
      },
      en: {
        brand: "Lattice-Agent",
        "nav.features": "Features",
        "nav.quickstart": "QuickStart",
        "nav.agent": "Agent",
        "nav.faq": "FAQ",
        "nav.theme": "Theme",
        "nav.github": "GitHub",
        "hero.h1a": "Build agents in Go with",
        "hero.h1b": "graph-aware, multi-vector memory",
        "hero.lead": "Clean LLM adapters, UTCP-native tools, RAG memory, and multi-agent orchestration. Focus on your domain logic while we handle the plumbing.",
        "hero.cta1": "QuickStart",
        "hero.cta2": "FAQ",
        "hero.meta": "Apache-2.0 ‚Ä¢ Go 1.22+ ‚Ä¢ UTCP-ready",
        "hero.demo": "CLI demo",
        "feat.1.title": "Graph-aware memory",
        "feat.1.desc": "Neighborhoods, importance, decay ‚Äî context that stays on target.",
        "feat.2.title": "Multi-vector (matrix)",
        "feat.2.desc": "Multiple vectors per record + RRF/weighted fusion for stronger recall.",
        "feat.3.title": "UTCP tools",
        "feat.3.desc": "One API, many providers and deployment modes.",
        "feat.4.title": "Clean LLM adapters",
        "feat.4.desc": "Gemini, Anthropic, OpenAI, Ollama ‚Äî one interface.",
        "feat.5.title": "Pluggable stores",
        "feat.5.desc": "Start in-memory; production with PostgreSQL+pgvector or Qdrant.",
        "feat.6.title": "Swarm & spaces",
        "feat.6.desc": "Specialists collaborating in shared team/session spaces.",
        "qs.title": "QuickStart",
        "qs.lead": "Clone the repo, install deps, set your API key, run the demo.",
        "agent.title": "Agent",
        "agent.lead": "A minimal example that builds an agent and generates a response.",
        "faq.title": "FAQ",
        "faq.lead": "Common questions about Lattice-Agent.",
        "faq.q1": "How does multi-vector memory work?",
        "faq.a1": "Each record stores a matrix of vectors (e.g., title, body, entities). Results are fused (RRF/weighted), and graph neighborhoods expand context.",
        "faq.q2": "What stores are supported?",
        "faq.a2": "Dev: in-memory. Prod: PostgreSQL+pgvector or Qdrant. Adapters live under <code>pkg/memory</code>.",
        "faq.q3": "Do I have to use Gemini?",
        "faq.a3": "No. The LLM interface is plug-and-play (Anthropic, OpenAI, Ollama, custom models).",
        "faq.q4": "How can I contribute?",
        "faq.a4": "Small PRs, tests, and docs. Standard library first, clean code, minimal dependencies.",
        "footer.brand": "Lattice-Agent ‚Ä¢ Apache-2.0",
        "footer.meta": "Go ‚Ä¢ UTCP ‚Ä¢ RAG",
        "btn.copy": "Copy"
      }
    };

    // Apply translations to any element with [data-i18n]
    function applyI18n(lang) {
      const dict = I18N[lang] || I18N.pl;
      document.documentElement.lang = lang;
      for (const el of document.querySelectorAll('[data-i18n]')) {
        const key = el.getAttribute('data-i18n');
        if (!key) continue;
        const val = dict[key];
        if (val !== undefined) {
          // Allow simple inline HTML (e.g., code tags in FAQ answers)
          if (val.includes('<code>')) el.innerHTML = val;
          else el.textContent = val;
        }
      }
      // Update code blocks that differ by language (QuickStart comments + Agent prompt sentence)
      const qs = document.getElementById('qsCode');
      const go = document.getElementById('goCode');
      if (qs) {
        qs.textContent = lang === 'en'
          ? `git clone https://github.com/Raezil/lattice-agent.git
cd lattice-agent
go mod download

# optional persistence
echo "CREATE EXTENSION IF NOT EXISTS vector;" | psql postgres

# env
echo 'export GEMINI_API_KEY=YOUR_KEY' >> ~/.bashrc
source ~/.bashrc

# demo
go run ./cmd/quickstart`
          : `git clone https://github.com/Raezil/lattice-agent.git
cd lattice-agent
go mod download

# opcjonalna trwa≈Ço≈õƒá
echo "CREATE EXTENSION IF NOT EXISTS vector;" | psql postgres

# env
echo 'export GEMINI_API_KEY=YOUR_KEY' >> ~/.bashrc
source ~/.bashrc

# demo
go run ./cmd/quickstart`;
      }
      if (go) {
        go.textContent = lang === 'en'
          ? `package main

import (
  "context"
  "log"

  "github.com/Raezil/lattice-agent/pkg/adk"
  adkmodules "github.com/Raezil/lattice-agent/pkg/adk/modules"
  "github.com/Raezil/lattice-agent/pkg/models"
  "github.com/Raezil/lattice-agent/pkg/tools"
)

func main() {
  ctx := context.Background()

  kit, err := adk.New(ctx,
    adk.WithModules(
      adkmodules.NewModelModule("coordinator", func(_ context.Context) (models.Agent, error) {
        return models.NewGeminiLLM(ctx, "gemini-2.5-pro", "Swarm orchestration:")
      }),
      adkmodules.InMemoryMemoryModule(64),
      adkmodules.NewToolModule("default-tools",
        adkmodules.StaticToolProvider([]tools.Tool{
          &tools.EchoTool{},
          &tools.CalculatorTool{},
        }, nil)),
    ),
  )
  if err != nil { log.Fatal(err) }

  a, err := kit.BuildAgent(ctx)
  if err != nil { log.Fatal(err) }

  resp, err := a.Generate(ctx, "session-1", "What is pgvector? Answer in 2 lines.")
  if err != nil { log.Fatal(err) }
  log.Println(resp)
}`
          : `package main

import (
  "context"
  "log"

  "github.com/Raezil/lattice-agent/pkg/adk"
  adkmodules "github.com/Raezil/lattice-agent/pkg/adk/modules"
  "github.com/Raezil/lattice-agent/pkg/models"
  "github.com/Raezil/lattice-agent/pkg/tools"
)

func main() {
  ctx := context.Background()

  kit, err := adk.New(ctx,
    adk.WithModules(
      adkmodules.NewModelModule("coordinator", func(_ context.Context) (models.Agent, error) {
        return models.NewGeminiLLM(ctx, "gemini-2.5-pro", "Swarm orchestration:")
      }),
      adkmodules.InMemoryMemoryModule(64),
      adkmodules.NewToolModule("default-tools",
        adkmodules.StaticToolProvider([]tools.Tool{
          &tools.EchoTool{},
          &tools.CalculatorTool{},
        }, nil)),
    ),
  )
  if err != nil { log.Fatal(err) }

  a, err := kit.BuildAgent(ctx)
  if err != nil { log.Fatal(err) }

  resp, err := a.Generate(ctx, "session-1", "Co to jest pgvector? Odpowiedz w 2 linijkach.")
  if err != nil { log.Fatal(err) }
  log.Println(resp)
}`;
      }

      // Update copy buttons text
      for (const el of document.querySelectorAll('.copy-btn')) {
        el.textContent = dict["btn.copy"];
      }

      // Update language toggle label
      const lbl = document.getElementById('langLabel');
      if (lbl) lbl.textContent = lang.toUpperCase();
    }

    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Theme toggle
    const root = document.documentElement;
    const themeBtn = document.getElementById('themeToggle');
    const themeIcon = document.getElementById('themeIcon');
    const themeStored = localStorage.getItem('lattice-theme');
    if (themeStored === 'dark' || (!themeStored && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      root.classList.add('dark'); root.setAttribute('data-theme','dark'); themeIcon.textContent = '‚òÄÔ∏è';
    }
    themeBtn.addEventListener('click', () => {
      const isDark = root.classList.toggle('dark');
      root.setAttribute('data-theme', isDark ? 'dark' : 'light');
      localStorage.setItem('lattice-theme', isDark ? 'dark' : 'light');
      themeIcon.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
    });

    // Language toggle (persist)
    const langBtn = document.getElementById('langToggle');
    const savedLang = localStorage.getItem('lattice-lang') || 'pl';
    applyI18n(savedLang);
    langBtn.addEventListener('click', () => {
      const current = document.documentElement.lang || 'pl';
      const next = current === 'pl' ? 'en' : 'pl';
      localStorage.setItem('lattice-lang', next);
      applyI18n(next);
    });

    // Copy buttons
    document.addEventListener('click', (e) => {
      const c = e.target.closest('.copy-btn'); if(!c) return;
      const id = c.getAttribute('data-target'); const el = id && document.getElementById(id);
      const txt = el ? el.textContent : '';
      navigator.clipboard.writeText(txt).then(()=>{
        const t = c.textContent; c.textContent = (document.documentElement.lang === 'en' ? 'Copied!' : 'Skopiowano!');
        setTimeout(()=> c.textContent = t, 1200);
      }).catch(()=>{
        c.textContent = (document.documentElement.lang === 'en' ? 'Error' : 'B≈ÇƒÖd');
        setTimeout(()=> applyI18n(document.documentElement.lang || 'pl'), 1200);
      });
    });
  </script>
</body>
</html>
